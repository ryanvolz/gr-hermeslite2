# auto-generated by grc.converter

id: hermeslite2_NB
label: Hermes Lite 2 NB
category: '[Hermes Lite 2]'
flags:
- throttle

parameters:
-   id: Rx0F
    label: Rcvr 0 Frequency, Hz.
    dtype: real
    default: '7200000'
-   id: Rx1F
    label: Rcvr 1 Frequency, Hz.
    dtype: real
    default: '7200000'
    hide: ${ 'all' if num_outputs < 2 else 'none' }    
-   id: Rx2F
    label: Rcvr 2 Frequency, Hz.
    dtype: real
    default: '7200000'
    hide: ${ 'all' if num_outputs < 3 else 'none' }
-   id: Rx3F
    label: Rcvr 3 Frequency, Hz.
    dtype: real
    default: '7200000'
    hide: ${ 'all' if num_outputs < 4 else 'none' }
-   id: Rx4F
    label: Rcvr 4 Frequency, Hz.
    dtype: real
    default: '7200000'
    hide: ${ 'all' if num_outputs < 5 else 'none' }
-   id: Rx5F
    label: Rcvr 5 Frequency, Hz.
    dtype: real
    default: '7200000'
    hide: ${ 'all' if num_outputs < 6 else 'none' }
-   id: Rx6F
    label: Rcvr 6 Frequency, Hz.
    dtype: real
    default: '7200000'
    hide: ${ 'all' if num_outputs < 7 else 'none' }
-   id: Rx7F
    label: Rcvr 7 Frequency, Hz.
    dtype: real
    default: '7200000'
    hide: ${ 'all' if num_outputs < 8 else 'none' }
-   id: TxF
    label: Transmit Frequency, Hz.
    dtype: real
    default: '7200000'
-   id: RxSmp
    label: Rx Sample Rate
    dtype: int
    default: '192000'
    options: ['48000', '96000', '192000', '384000']
-   id: PTTRx
    label: PTT On Mutes Rx
    dtype: bool
    default: 'True'
-   id: PTTTx
    label: PTT Off Mutes Tx
    dtype: bool
    default: 'True'
-   id: PTTmode
    label: Tx PTT mode Off/Vox/On
    dtype: int
    default: '0'
-   id: TxDrive
    label: Tx Drive Level (0..255)
    dtype: int
    default: '0'
-   id: num_outputs
    label: Num Rcvrs (1 to 8)
    dtype: int
    default: '1'
    hide: part
-   id: Intfc
    label: Ethernet Interface
    dtype: raw
    default: '"eth0"'
-   id: Verbose
    label: Verbose (1=on, 0=off)
    dtype: int
    default: '0'
    options: ['0', '1']
    option_labels: ['Off', 'On']
-   id: MACAddr
    label: MAC Address or *
    dtype: string
    default: '"*"'
-   id: AGC
    label: Hardware AGC
    dtype: bool
    default: 'False'
-   id: LNAG
    label: LNA Gain
    dtype: int
    default: '18'
-   id: PA
    label: Enable PA
    dtype: bool
    default: 'False'
-   id: Q5
    label: Q5 switch external PTT in low power mode
    dtype: bool
    default: 'False'

inputs:
-   domain: stream
    dtype: complex

outputs:
-   domain: stream
    dtype: complex
    multiplicity: ${ num_outputs }
asserts:
- ${ num_outputs >= 1 }
- ${ 8 >= num_outputs }

templates:
    imports: import hermeslite2
    make: hermeslite2.hermesNB(${Rx0F}, ${Rx1F}, ${Rx2F}, ${Rx3F}, ${Rx4F}, ${Rx5F},
        ${Rx6F}, ${Rx7F}, ${TxF}, ${PTTmode}, ${PTTTx}, ${PTTRx}, ${TxDrive}, ${RxSmp},
        ${Intfc}, ${Verbose}, ${num_outputs}, ${MACAddr}, ${AGC}, ${LNAG}, ${PA},
        ${Q5})
    callbacks:
    - set_Receive0Frequency(${Rx0F})
    - set_Receive1Frequency(${Rx1F})
    - set_Receive2Frequency(${Rx2F})
    - set_Receive3Frequency(${Rx3F})
    - set_Receive4Frequency(${Rx4F})
    - set_Receive5Frequency(${Rx5F})
    - set_Receive6Frequency(${Rx6F})
    - set_Receive7Frequency(${Rx7F})
    - set_RxSampRate(${RxSmp})
    - set_PTTMode(${PTTmode})
    - set_PTTOffMutesTx(${PTTTx})
    - set_PTTOnMutesRx(${PTTRx})
    - set_TxDrive(${TxDrive})
    - set_TransmitFrequency(${TxF})
    - set_Verbose(${Verbose})
    - set_HardwareAGC(${AGC})
    - set_LNAGain(${LNAG})
    - set_OnboardPA(${PA})
    - set_Q5Switch(${Q5})

documentation: |-
    This block is the HPSDR Hermes/Metis module.
      It supports one or two receivers and one transmitter in the Narrow Band
      (digital downconversion) mode.
      *RxSamp = 48000, 96000, 192000, or 384000
      *RxPreamp = 0 (Off), or  1 (On)
      *PTTMode = 0 (TxOff),  1 (Vox on Txframe contents), or  2 (TxOn)
      *PTTOffMutesTx = 0 (Tx always emits), 1 (Tx IQ is zeroed when PTT is Off)
      *PTTOnMutesRx = 0 (Rx always receives), 1 (Rx IQ is zeroed when PTT is On)
      *TxDrive = 0..255 (0 is minimum (but not zero) drive, 255 is maximum drive)
      Rcvr0 corresponds to out0, Rcvr1 corresponds to out1.
      *Interface = the ethernet interface to use.
        Example: "eth0" {including quote marks}.
      *MACAddr = "HH:HH:HH:HH:HH:HH" with HH being the MAC Address hex values, or "*" to
        select the first detected Metis/Hermes regardless of it's MAC Address.
        MACAddr is a string (and must be enclosed in quotes).
      Update: 03-13-2014: Reverse transmit I and Q samples (FPGA reverses them).
      Update: July 2017 - increase receivers supported to 8.

file_format: 1
